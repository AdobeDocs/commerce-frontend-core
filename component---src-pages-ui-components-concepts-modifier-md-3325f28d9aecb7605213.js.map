{"version":3,"file":"component---src-pages-ui-components-concepts-modifier-md-3325f28d9aecb7605213.js","mappings":"uSAQaA,EAAe,CAAC,EACvBC,EAAc,CAClBD,gBAEIE,EAAYC,EAAAA,EACH,SAASC,EAAT,GAGZ,IAHgC,WACjCC,GAEC,EADEC,GACF,YACD,OAAO,SAACJ,GAAD,UAAeD,EAAiBK,EAAhC,CAAuCD,WAAYA,EAAYE,QAAQ,eAG5E,eACE,GAAM,iBACH,kBACL,kBAAK,mFAAiF,cAAGC,WAAW,IAChG,KAAQ,yBACL,+BAAmC,8DAA4D,cAAGA,WAAW,IAChH,KAAQ,sBACL,iDAAqD,oJAAkJ,cAAGA,WAAW,IACxN,KAAQ,0FACL,iCAAqC,8HAC5C,eACE,GAAM,0BACH,2BACL,mBAAG,uBAAYA,WAAW,KAAM,kBAA+B,8LAA4L,uBAAYA,WAAW,KAAM,iBAA8B,iDAA+C,uBAAYA,WAAW,KAAM,UAAuB,MACzZ,kBAAK,uIACL,eACE,GAAM,6BACH,8BACL,kBAAK,wEACL,mBAAG,mBAAQA,WAAW,KAAM,aAC5B,kBAAK,uDAAqD,cAAGA,WAAW,IACpE,KAAQ,iHACP,uBAAYA,WAAW,KAAM,6DAA6E,iCAC/G,oBACE,eAAIA,WAAW,OAAK,uBAAYA,WAAW,MAAO,gBAA6B,gGAC/E,eAAIA,WAAW,OAAK,uBAAYA,WAAW,MAAO,gBAA6B,2FAEjF,kBAAK,qBACL,qBAAK,iBAAMA,WAAW,MAClB,UAAa,gBACV,+mDAoDP,mBAAG,mBAAQA,WAAW,KAAM,aAC5B,kBAAK,0DAAwD,uBAAYA,WAAW,KAAM,0CAAuD,iDACjJ,qBAAK,iBAAMA,WAAW,MAClB,UAAa,gBACV,qhBAWP,kBAAK,UAAQ,uBAAYA,WAAW,KAAM,2DAAwE,UAAQ,cAAGA,WAAW,IACpI,KAAQ,0GACL,iBAAqB,MAC5B,kBAAK,4CAA0C,uBAAYA,WAAW,KAAM,UAAuB,uEACnG,mBAAG,mBAAQA,WAAW,KAAM,aAC5B,kBAAK,8CAA4C,cAAGA,WAAW,IAC3D,KAAQ,6GACP,uBAAYA,WAAW,KAAM,yDAAyE,yCAC3G,kBAAK,iCACL,qBAAK,iBAAMA,WAAW,MAClB,UAAa,gBACV,2PAMP,kBAAK,yBAAuB,cAAGA,WAAW,IACtC,KAAQ,iIACP,uBAAYA,WAAW,KAAM,gFAAgG,KAGrI,CAEDJ,EAAWK,gBAAiB,C","sources":["webpack://commerce-frontend-core/./src/pages/ui-components/concepts/modifier.md"],"sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/runner/work/commerce-frontend-core/commerce-frontend-core/node_modules/@adobe/gatsby-theme-aio/src/components/MDXFilter/index.js\";\nexport const _frontmatter = {};\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h1 {...{\n      \"id\": \"php-modifiers\"\n    }}>{`PHP modifiers`}</h1>\n    <p>{`This topic describes how to use PHP modifiers that are the server-side part of `}<a parentName=\"p\" {...{\n        \"href\": \"configuration-flow.md\"\n      }}>{`UI components configuration`}</a>{`. Using modifiers is optional and might be necessary when `}<a parentName=\"p\" {...{\n        \"href\": \"xml-declaration.md\"\n      }}>{`static declaration in XML configuration files`}</a>{` is not suitable for the tasks. For example, in cases when additional data should be loaded from database. Or the other specific example is the `}<a parentName=\"p\" {...{\n        \"href\": \"https://developer.adobe.com/commerce/php/tutorials/admin/custom-product-creation-form/\"\n      }}>{`default product creation form`}</a>{`, for which the modifier is a place where validations are added to display only certain fields for certain product types.`}</p>\n    <h2 {...{\n      \"id\": \"general-implementation\"\n    }}>{`General implementation`}</h2>\n    <p><inlineCode parentName=\"p\">{`DataProvider()`}</inlineCode>{` is a PHP part of a UI component, a class responsible for the component's data and metadata preparation. The pool of modifiers (virtual type) is injected to this data provider using the `}<inlineCode parentName=\"p\">{`__construct()`}</inlineCode>{` method. The pool's preference is defined in `}<inlineCode parentName=\"p\">{`di.xml`}</inlineCode>{`.`}</p>\n    <p>{`So in runtime, the component structure set in the modifier is merged with the configuration that comes from the XML configuration.`}</p>\n    <h2 {...{\n      \"id\": \"add-a-custom-php-modifier\"\n    }}>{`Add a custom PHP modifier`}</h2>\n    <p>{`To add a PHP modifier for a UI component, take the following steps:`}</p>\n    <p><strong parentName=\"p\">{`Step 1:`}</strong></p>\n    <p>{`In your custom module, add a class that implements `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/magento/magento2/blob/2.4/app/code/Magento/Ui/DataProvider/Modifier/ModifierInterface.php\"\n      }}><inlineCode parentName=\"a\">{`\\\\Magento\\\\Ui\\\\DataProvider\\\\Modifier\\\\ModifierInterface`}</inlineCode></a>{` with the following methods:`}</p>\n    <ul>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`modifyData()`}</inlineCode>{`: for modifying UI component's data (for example, the list of options for a select element)`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`modifyMeta()`}</inlineCode>{`: for modifying UI component's metadata (for example, name, label, description, type)`}</li>\n    </ul>\n    <p>{`Sample modifier:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-php\"\n      }}>{`<?php\n\nuse Magento\\\\Ui\\\\DataProvider\\\\Modifier\\\\ModifierInterface;\n\nclass Example implements ModifierInterface\n{\n    public function modifyMeta(array $meta)\n    {\n        $meta['test_fieldset_name'] = [\n            'arguments' => [\n                'data' => [\n                    'config' => [\n                        'label' => __('Label For Fieldset'),\n                        'sortOrder' => 50,\n                        'collapsible' => true\n                    ]\n                ]\n            ],\n            'children' => [\n                'test_field_name' => [\n                    'arguments' => [\n                        'data' => [\n                            'config' => [\n                                'formElement' => 'select',\n                                'componentType' => 'field',\n                                'options' => [\n                                    ['value' => 'test_value_1', 'label' => 'Test Value 1'],\n                                    ['value' => 'test_value_2', 'label' => 'Test Value 2'],\n                                    ['value' => 'test_value_3', 'label' => 'Test Value 3'],\n                                ],\n                                'visible' => 1,\n                                'required' => 1,\n                                'label' => __('Label For Element')\n                            ]\n                        ]\n                    ]\n                ]\n            ]\n        ];\n\n        return $meta;\n    }\n\n    /**\n     * {@inheritdoc}\n     */\n    public function modifyData(array $data)\n    {\n        return $data;\n    }\n}\n`}</code></pre>\n    <p><strong parentName=\"p\">{`Step 2:`}</strong></p>\n    <p>{`Declare your modifier in your module Di configuration `}<inlineCode parentName=\"p\">{`<Your_Module_dir>/etc/adminhtml/di.xml`}</inlineCode>{`. This declaration looks like the following:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-xml\"\n      }}>{`<virtualType name=\"%YourNamespace\\\\YourModule\\\\DataProvider\\\\Modifier\\\\Pool%\" type=\"Magento\\\\Ui\\\\DataProvider\\\\Modifier\\\\Pool\">\n     <arguments>\n         <argument name=\"modifiers\" xsi:type=\"array\">\n             <item name=\"modifier_name\" xsi:type=\"array\">\n                 <item name=\"class\" xsi:type=\"string\">%YourNamespce\\\\YourModule\\\\Modifier\\\\YourModifierClass%</item>\n                 <item name=\"sortOrder\" xsi:type=\"number\">10</item>\n             </item>\n         </argument>\n     </arguments>\n</virtualType>\n`}</code></pre>\n    <p>{`where `}<inlineCode parentName=\"p\">{`YourNamespace\\\\YourModule\\\\DataProvider\\\\Modifier\\\\Pool`}</inlineCode>{` is a `}<a parentName=\"p\" {...{\n        \"href\": \"https://developer.adobe.com/commerce/php/development/components/dependency-injection/#dependency-types\"\n      }}>{`virtual class`}</a>{`.`}</p>\n    <p>{`(If you want to use this sample in your `}<inlineCode parentName=\"p\">{`di.xml`}</inlineCode>{`, replace the sample values with the real names of your entities.)`}</p>\n    <p><strong parentName=\"p\">{`Step 3:`}</strong></p>\n    <p>{`To use your modifier, add a dependency on `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/magento/magento2/blob/2.4/app/code/Magento/Ui/DataProvider/Modifier/PoolInterface.php\"\n      }}><inlineCode parentName=\"a\">{`\\\\Magento\\\\Ui\\\\DataProvider\\\\Modifier\\\\PoolInterface`}</inlineCode></a>{` to your UI component data provider.`}</p>\n    <p>{`Sample dependency injection:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-xml\"\n      }}>{`<type name=\"%YourNamespce\\\\YourModule\\\\Ui\\\\DataProvider\\\\YourDataProviderClass%\">\n    <arguments>\n        <argument name=\"pool\" xsi:type=\"object\">%YourNamespace\\\\YourModule\\\\DataProvider\\\\Modifier\\\\Pool%</argument>\n    </arguments>\n</type>\n`}</code></pre>\n    <p>{`For illustration see `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/magento/magento2/blob/2.4/app/code/Magento/Catalog/Ui/DataProvider/Product/Form/Modifier/LayoutUpdate.php\"\n      }}><inlineCode parentName=\"a\">{`\\\\Magento\\\\Catalog\\\\Ui\\\\DataProvider\\\\Product\\\\Form\\\\Modifier\\\\LayoutUpdate`}</inlineCode></a>{`.`}</p>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"names":["_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","props","mdxType","parentName","isMDXComponent"],"sourceRoot":""}