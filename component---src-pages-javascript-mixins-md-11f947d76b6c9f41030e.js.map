{"version":3,"file":"component---src-pages-javascript-mixins-md-11f947d76b6c9f41030e.js","mappings":"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","sources":["webpack://commerce-frontend-core/./src/pages/javascript/mixins.md"],"sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/runner/work/commerce-frontend-core/commerce-frontend-core/node_modules/@adobe/gatsby-theme-aio/src/components/MDXFilter/index.js\";\nexport const _frontmatter = {};\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h1 {...{\n      \"id\": \"javascript-mixins\"\n    }}>{`JavaScript mixins`}</h1>\n    <p>{`A `}<a parentName=\"p\" {...{\n        \"href\": \"https://en.wikipedia.org/wiki/Mixin\"\n      }}>{`mixin`}</a>{` is a class whose methods are added to, or mixed in, with another class.`}</p>\n    <p>{`A base class includes the methods from a mixin instead of inheriting from it.\nThis allows you to add to or augment the behavior of the base class by adding different mixins to it.`}</p>\n    <p>{`This topic contains information on how you can use JavaScript mixins to overwrite component methods.`}</p>\n    <h2 {...{\n      \"id\": \"mixin-scope\"\n    }}>{`Mixin scope`}</h2>\n    <p>{`The scope of a module's mixin depends on its directory location under the `}<inlineCode parentName=\"p\">{`view`}</inlineCode>{` directory.\nThis allows you to target component instances in specific areas.`}</p>\n    <p>{`The following table maps a directory location to the `}<a parentName=\"p\" {...{\n        \"href\": \"https://developer.adobe.com/commerce/php/architecture/modules/areas/\"\n      }}>{`application area`}</a>{` a mixin affects:`}</p>\n    <table>\n      <thead parentName=\"table\">\n        <tr parentName=\"thead\">\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Directory`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Scope`}</th>\n        </tr>\n      </thead>\n      <tbody parentName=\"table\">\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`view/frontend`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Storefront`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`view/adminhtml`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Admin panel`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`view/base`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`All areas (unless a specific `}<inlineCode parentName=\"td\">{`frontend`}</inlineCode>{` or `}<inlineCode parentName=\"td\">{`adminhtml`}</inlineCode>{` entry exists)`}</td>\n        </tr>\n      </tbody>\n    </table>\n    <h2 {...{\n      \"id\": \"mixin-files\"\n    }}>{`Mixin files`}</h2>\n    <h3 {...{\n      \"id\": \"location\"\n    }}>{`Location`}</h3>\n    <p>{`Mixins are JavaScript files located under the `}<inlineCode parentName=\"p\">{`web/js`}</inlineCode>{` directory under an area specific directory.\nThe mixin file can be nested under more directories as long as those directories are under `}<inlineCode parentName=\"p\">{`web/js`}</inlineCode>{`.`}</p>\n    <h3 {...{\n      \"id\": \"format\"\n    }}>{`Format`}</h3>\n    <p>{`A mixin is written as an `}<a parentName=\"p\" {...{\n        \"href\": \"https://en.wikipedia.org/wiki/Asynchronous_module_definition\"\n      }}>{`AMD module`}</a>{` that returns a callback function.\nThis function accepts a target component(module) as an argument and returns a module.`}</p>\n    <p>{`This allows you to return a new instance of the target component with your modifications attached to it before it is used in the application.`}</p>\n    <h3 {...{\n      \"id\": \"examples\"\n    }}>{`Examples`}</h3>\n    <h4 {...{\n      \"id\": \"extend-ui-component\"\n    }}>{`Extend UI component`}</h4>\n    <p>{`The following is an example of a mixin that extends the `}<inlineCode parentName=\"p\">{`target`}</inlineCode>{` component with a function that introduces a new `}<inlineCode parentName=\"p\">{`blockVisibility`}</inlineCode>{` property to a column element.`}</p>\n    <p><strong parentName=\"p\">{`File:`}</strong>{` `}<inlineCode parentName=\"p\">{`ExampleCorp/Sample/view/base/web/js/columns-mixin.js`}</inlineCode></p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`define(function () {\n    'use strict';\n\n    var mixin = {\n\n        /**\n         *\n         * @param {Column} elem\n         */\n        isDisabled: function (elem) {\n            return elem.blockVisibility || this._super();\n        }\n    };\n\n    return function (target) { // target == Result that Magento_Ui/.../columns returns.\n        return target.extend(mixin); // new result that all other modules receive\n    };\n});\n`}</code></pre>\n    <h4 {...{\n      \"id\": \"extend-jquery-widget\"\n    }}>{`Extend jQuery widget`}</h4>\n    <p>{`The following is an example of a mixin that extends the `}<a parentName=\"p\" {...{\n        \"href\": \"jquery-widgets/modal.md\"\n      }}>{`modal widget`}</a>{` with a function that adds confirmation for a modal closing.`}</p>\n    <p><strong parentName=\"p\">{`File:`}</strong>{` `}<inlineCode parentName=\"p\">{`ExampleCorp/Sample/view/base/web/js/modal-widget-mixin.js`}</inlineCode></p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`define(['jquery'], function ($) {\n    'use strict';\n\n    var modalWidgetMixin = {\n        options: {\n            confirmMessage: \"Please, confirm modal closing.\"\n        },\n\n        /**\n         * Added confirming for modal closing\n         *\n         * @returns {Element}\n         */\n        closeModal: function () {\n            if (!confirm(this.options.confirmMessage)) {\n                return this.element;\n            }\n\n            return this._super();\n        }\n    };\n\n    return function (targetWidget) {\n        // Example how to extend a widget by mixin object\n        $.widget('mage.modal', targetWidget, modalWidgetMixin); // the widget alias should be like for the target widget\n\n        return $.mage.modal; //  the widget by parent alias should be returned\n    };\n});\n`}</code></pre>\n    <h4 {...{\n      \"id\": \"extend-js-object\"\n    }}>{`Extend JS object`}</h4>\n    <p>{`Another use-case for the JS mixin is when the base Javascript file returns an object. In this case, a wrapper is necessary. The following example mixin extends the `}<inlineCode parentName=\"p\">{`setHash`}</inlineCode>{` method of `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/magento/magento2/blob/2.4/app/code/Magento/Checkout/view/frontend/web/js/model/step-navigator.js\"\n      }}>{`step navigator object`}</a>{`. Here, `}<inlineCode parentName=\"p\">{`this._super()`}</inlineCode>{` is the base method that can be called if needed.`}</p>\n    <p><strong parentName=\"p\">{`File:`}</strong>{` `}<inlineCode parentName=\"p\">{`ExampleCorp/Sample/view/frontend/web/js/model/step-navigator-mixin.js`}</inlineCode></p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`define([\n    'mage/utils/wrapper'\n], function (wrapper) {\n    'use strict';\n\n    return function (stepNavigator) {\n        stepNavigator.setHash = wrapper.wrapSuper(stepNavigator.setHash, function (hash) {\n            this._super(hash);\n            // add extended functionality here or modify method logic altogether\n        });\n\n        return stepNavigator;\n    };\n});\n`}</code></pre>\n    <h4 {...{\n      \"id\": \"extend-js-function\"\n    }}>{`Extend JS function`}</h4>\n    <p>{`The following is an example of a mixin that adds additional functionality to the `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/magento/magento2/blob/2.4/app/code/Magento/Checkout/view/frontend/web/js/proceed-to-checkout.js\"\n      }}>{`proceed to checkout function`}</a>{`.`}</p>\n    <p><strong parentName=\"p\">{`File:`}</strong>{` `}<inlineCode parentName=\"p\">{`ExampleCorp/Sample/view/frontend/web/js/proceed-to-checkout-mixin.js`}</inlineCode></p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`define([\n    'mage/utils/wrapper'\n], function (wrapper) {\n    'use strict';\n\n    return function (proceedToCheckoutFunction) {\n        return wrapper.wrap(proceedToCheckoutFunction, function (originalProceedToCheckoutFunction, config, element) {\n            originalProceedToCheckoutFunction(config, element);\n            // add extended functionality here\n        });\n    };\n});\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"declaring-a-mixin\"\n    }}>{`Declaring a mixin`}</h2>\n    <p>{`Mixins are declared in the `}<inlineCode parentName=\"p\">{`mixins`}</inlineCode>{` property in the `}<inlineCode parentName=\"p\">{`requirejs-config.js`}</inlineCode>{` configuration file.\nThis file must be created in the same area specific directory the mixin is defined in.`}</p>\n    <p>{`The mixins configuration in the `}<inlineCode parentName=\"p\">{`requirejs-config.js`}</inlineCode>{` associates a target component with a mixin using their paths.`}</p>\n    <h3 {...{\n      \"id\": \"example\"\n    }}>{`Example`}</h3>\n    <p>{`The following is an example of a `}<inlineCode parentName=\"p\">{`requirejs-config.js`}</inlineCode>{` file that adds the `}<inlineCode parentName=\"p\">{`columns-mixin`}</inlineCode>{`, `}<inlineCode parentName=\"p\">{`modal-widget-mixin`}</inlineCode>{`, `}<inlineCode parentName=\"p\">{`step-navigator-mixin`}</inlineCode>{`, and `}<inlineCode parentName=\"p\">{`proceed-to-checkout-mixin`}</inlineCode>{` mixins, which were defined in the previous examples, to the `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/magento/magento2/blob/2.4/app/code/Magento/Ui/view/base/web/js/grid/controls/columns.js\"\n      }}>{`grid column component`}</a>{`, `}<a parentName=\"p\" {...{\n        \"href\": \"jquery-widgets/modal.md\"\n      }}>{`modal widget`}</a>{`, `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/magento/magento2/blob/2.4/app/code/Magento/Checkout/view/frontend/web/js/model/step-navigator.js\"\n      }}>{`step navigator object`}</a>{`, and `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/magento/magento2/blob/2.4/app/code/Magento/Checkout/view/frontend/web/js/proceed-to-checkout.js\"\n      }}>{`proceed to checkout function`}</a>{`.`}</p>\n    <p><strong parentName=\"p\">{`File:`}</strong>{` `}<inlineCode parentName=\"p\">{`ExampleCorp/Sample/view/base/requirejs-config.js`}</inlineCode></p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`var config = {\n config: {\n     mixins: {\n         'Magento_Ui/js/grid/controls/columns': {\n             'ExampleCorp_Sample/js/columns-mixin': true\n         },\n         'Magento_Ui/js/modal/modal': {\n             'ExampleCorp_Sample/js/modal-widget-mixin': true\n         },\n         'Magento_Checkout/js/model/step-navigator': {\n             'ExampleCorp_Sample/js/model/step-navigator-mixin': true\n         },\n         'Magento_Checkout/js/proceed-to-checkout': {\n             'ExampleCorp_Sample/js/proceed-to-checkout-mixin': true\n         }\n     }\n }\n};\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"overwriting-a-mixin\"\n    }}>{`Overwriting a mixin`}</h2>\n    <p>{`A mixin can be overwritten by another mixin but cannot be disabled separately.`}</p>\n    <h3 {...{\n      \"id\": \"example-1\"\n    }}>{`Example`}</h3>\n    <p><strong parentName=\"p\">{`File:`}</strong>{` `}<inlineCode parentName=\"p\">{`ExampleCorp/CartFix/view/base/requirejs-config.js`}</inlineCode></p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`var config = {\n    config: {\n        mixins: {\n            'Magento_Catalog/js/catalog-add-to-cart': {\n                'ExampleCorp_Sample/js/original-add-to-cart-mixin': false,\n                'ExampleCorp_CartFix/js/overwritten-add-to-cart-mixin': true\n            }\n        }\n    }\n};\n`}</code></pre>\n    <p>{`In this case, the `}<inlineCode parentName=\"p\">{`ExampleCorp_Sample/js/original-add-to-cart-mixin`}</inlineCode>{` is overwritten by `}<inlineCode parentName=\"p\">{`ExampleCorp_CartFix/js/overwritten-add-to-cart-mixin`}</inlineCode>{`.\nBe sure to add the origin module as the over-written module dependency (use the sequence tag in `}<inlineCode parentName=\"p\">{`etc/module.xml`}</inlineCode>{`).`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-xml\"\n      }}>{`<?xml version=\"1.0\"?>\n<config xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:noNamespaceSchemaLocation=\"urn:magento:framework:Module/etc/module.xsd\">\n    <module name=\"ExampleCorp_CartFix\">\n        <sequence>\n            <module name=\"ExampleCorp_Sample\" />\n        </sequence>\n    </module>\n</config>\n`}</code></pre>\n    <p>{`After making changes to the `}<inlineCode parentName=\"p\">{`requirejs-config.js`}</inlineCode>{` configuration, you must clean the cache and regenerate static files.`}</p>\n    <h2 {...{\n      \"id\": \"mixin-examples\"\n    }}>{`Mixin examples`}</h2>\n    <p>{`The following is a list of files in the `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/magento/magento2/blob/2.4/app/code/Magento/CheckoutAgreements\"\n      }}><inlineCode parentName=\"a\">{`Magento_CheckoutAgreement`}</inlineCode></a>{` module that declare and define mixins that modify checkout behavior:`}</p>\n    <ul>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"https://github.com/magento/magento2/blob/2.4/app/code/Magento/CheckoutAgreements/view/frontend/requirejs-config.js\"\n        }}><inlineCode parentName=\"a\">{`view/frontend/requirejs-config.js`}</inlineCode></a></li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"https://github.com/magento/magento2/blob/2.4/app/code/Magento/CheckoutAgreements/view/frontend/web/js/model/place-order-mixin.js\"\n        }}><inlineCode parentName=\"a\">{`view/frontend/web/js/model/place-order-mixin.js`}</inlineCode></a></li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"https://github.com/magento/magento2/blob/2.4/app/code/Magento/CheckoutAgreements/view/frontend/web/js/model/set-payment-information-mixin.js\"\n        }}><inlineCode parentName=\"a\">{`view/frontend/web/js/model/set-payment-information-mixin.js`}</inlineCode></a></li>\n    </ul>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"names":["_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","props","mdxType","parentName","isMDXComponent"],"sourceRoot":""}