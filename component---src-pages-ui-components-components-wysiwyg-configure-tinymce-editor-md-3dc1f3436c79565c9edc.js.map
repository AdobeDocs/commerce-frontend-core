{"version":3,"file":"component---src-pages-ui-components-components-wysiwyg-configure-tinymce-editor-md-3dc1f3436c79565c9edc.js","mappings":"kSAQaA,EAAe,CAAC,EACvBC,EAAc,CAClBD,aAAAA,GAEIE,EAAYC,EAAAA,EACH,SAASC,EAAT,GAGZ,IAFDC,EAEC,EAFDA,WACGC,GACF,YACD,OAAO,SAACJ,GAAD,UAAeD,EAAiBK,EAAhC,CAAuCD,WAAYA,EAAYE,QAAQ,eAG5E,eACE,GAAM,gCADR,iCAGA,sUAEA,8EAA+D,uBAAYC,WAAW,KAAvB,2BAA/D,aACF,uBAAYA,WAAW,KAAvB,2BADE,uFACwJ,uBAAYA,WAAW,KAAvB,kEADxJ,mGAEW,uBAAYA,WAAW,KAAvB,yDAFX,4BAGA,qBAAK,iBAAMA,WAAW,MAClB,UAAa,gBADZ,25BAmBL,yDACA,qBAAK,iBAAMA,WAAW,MAClB,UAAa,gBADZ,2mCAoBL,0BAAW,uBAAYA,WAAW,KAAvB,yBAAX,gGAC0B,uBAAYA,WAAW,KAAvB,+DAD1B,0DAC2L,uBAAYA,WAAW,KAAvB,eAD3L,aAEA,eACE,GAAM,gCADR,iCAGA,4KAA6J,uBAAYA,WAAW,KAAvB,cAA7J,WACA,qBAAK,iBAAMA,WAAW,MAClB,UAAa,gBADZ,yEAML,0FAA2E,uBAAYA,WAAW,KAAvB,UAA3E,+DAA4L,uBAAYA,WAAW,KAAvB,+DAA5L,6EACoE,uBAAYA,WAAW,KAAvB,UADpE,2HACiP,uBAAYA,WAAW,KAAvB,OADjP,UAEA,qBAAK,iBAAMA,WAAW,MAClB,UAAa,gBADZ,qqBAgBL,+CAAgC,uBAAYA,WAAW,KAAvB,UAAhC,kGACA,kIACyC,uBAAYA,WAAW,KAAvB,eADzC,iEAEA,2CAA4B,uBAAYA,WAAW,KAAvB,uDAA5B,gBAA2I,uBAAYA,WAAW,KAAvB,eAA3I,8EAEA,qBAAK,iBAAMA,WAAW,MAClB,UAAa,gBADZ,s0CA2CL,wCAAyB,uBAAYA,WAAW,KAAvB,gEAAzB,wFACgD,cAAGA,WAAW,IAC1D,KAAQ,0CADoC,WADhD,MAIA,+HAAgH,uBAAYA,WAAW,KAAvB,yBAAhH,uBAAwM,uBAAYA,WAAW,KAAvB,eAAxM,mCACA,qBAAK,iBAAMA,WAAW,MAClB,UAAa,gBADZ,+iBAwBR,CAEDJ,EAAWK,gBAAiB,C","sources":["webpack://commerce-frontend-core/./src/pages/ui-components/components/wysiwyg/configure-tinymce-editor.md"],"sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/runner/work/commerce-frontend-core/commerce-frontend-core/node_modules/@adobe/gatsby-theme-aio/src/components/MDXFilter/index.js\";\nexport const _frontmatter = {};\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h1 {...{\n      \"id\": \"configure-the-tinymce-editor\"\n    }}>{`Configure the TinyMCE editor`}</h1>\n    <p>{`You can extend and fully customize the TinyMCE editor to match the style and look-and-feel of your custom theme.\nThis enables richer content editing capabilities and ensures that content created in the Page Builder WYSIWYG or CMS content is seamlessly integrated and consistent with your other content.`}</p>\n    <p>{`The configuration of the TinyMCE editor is built by the `}<inlineCode parentName=\"p\">{`CompositeConfigProvider`}</inlineCode>{` class.\n`}<inlineCode parentName=\"p\">{`CompositeConfigProvider`}</inlineCode>{` loads the required configuration by adapters specified in the admin configuration `}<inlineCode parentName=\"p\">{`General > Content Management >WYSIWYG Options > WYSIWYG Editor`}</inlineCode>{`. This class is the configuration provider and aggregates the data in the array.\nFor example, `}<inlineCode parentName=\"p\">{`Magento\\\\Cms\\\\Model\\\\Wysiwyg\\\\CompositeConfigProvider`}</inlineCode>{` of Magento_Cms module:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-xml\"\n      }}>{`<type name=\"Magento\\\\Cms\\\\Model\\\\Wysiwyg\\\\CompositeConfigProvider\">\n    <arguments>\n        <argument name=\"variablePluginConfigProvider\" xsi:type=\"array\">\n            <item name=\"default\" xsi:type=\"string\">Magento\\\\Variable\\\\Model\\\\Variable\\\\ConfigProvider</item>\n        </argument>\n        <argument name=\"widgetPluginConfigProvider\" xsi:type=\"array\">\n            <item name=\"default\" xsi:type=\"string\">Magento\\\\Widget\\\\Model\\\\Widget\\\\Config</item>\n        </argument>\n        <argument name=\"wysiwygConfigPostProcessor\" xsi:type=\"array\">\n            <item name=\"default\" xsi:type=\"string\">Magento\\\\Cms\\\\Model\\\\Wysiwyg\\\\DefaultConfigProvider</item>\n        </argument>\n        <argument name=\"galleryConfigProvider\" xsi:type=\"array\">\n            <item name=\"default\" xsi:type=\"string\">Magento\\\\Cms\\\\Model\\\\Wysiwyg\\\\Gallery\\\\DefaultConfigProvider</item>\n        </argument>\n    </arguments>\n</type>\n`}</code></pre>\n    <p>{`Or the Magento_PageBuilder module:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-xml\"\n      }}>{`<type name=\"Magento\\\\Cms\\\\Model\\\\Wysiwyg\\\\CompositeConfigProvider\">\n    <arguments>\n        <argument name=\"variablePluginConfigProvider\" xsi:type=\"array\">\n            <item name=\"Magento_PageBuilder/pageBuilderAdapter\" xsi:type=\"string\">Magento\\\\Cms\\\\Model\\\\WysiwygDefaultConfig</item>\n        </argument>\n        <argument name=\"widgetPluginConfigProvider\" xsi:type=\"array\">\n            <item name=\"Magento_PageBuilder/pageBuilderAdapter\" xsi:type=\"string\">Magento\\\\Cms\\\\Model\\\\WysiwygDefaultConfig</item>\n        </argument>\n        <argument name=\"wysiwygConfigPostProcessor\" xsi:type=\"array\">\n            <item name=\"Magento_PageBuilder/pageBuilderAdapter\" xsi:type=\"string\">Magento\\\\Cms\\\\Model\\\\WysiwygDefaultConfig</item>\n            <item name=\"default\" xsi:type=\"string\">Magento\\\\PageBuilder\\\\Model\\\\Wysiwyg\\\\DefaultConfigProvider</item>\n        </argument>\n        <argument name=\"galleryConfigProvider\" xsi:type=\"array\">\n            <item name=\"Magento_PageBuilder/pageBuilderAdapter\" xsi:type=\"string\">Magento\\\\Cms\\\\Model\\\\WysiwygDefaultConfig</item>\n        </argument>\n    </arguments>\n</type>\n`}</code></pre>\n    <p>{`The `}<inlineCode parentName=\"p\">{`DefaultConfigProvider`}</inlineCode>{` class returns the data required to render the TinyMCE editor.\nFrom the example, the class `}<inlineCode parentName=\"p\">{`Magento\\\\PageBuilder\\\\Model\\\\Wysiwyg\\\\DefaultConfigProvider`}</inlineCode>{` overrides the existing configuration provided by the `}<inlineCode parentName=\"p\">{`Magento_CMS`}</inlineCode>{` module.`}</p>\n    <h2 {...{\n      \"id\": \"extending-the-tinymce-editor\"\n    }}>{`Extending the TinyMCE editor`}</h2>\n    <p>{`When extending the TinyMCE editor it is necessary to add the PageBuilder module to the load order of the custom module by adding the following to the `}<inlineCode parentName=\"p\">{`module.xml`}</inlineCode>{` file.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-xml\"\n      }}>{`<sequence>\n    <module name=\"Magento_Pagebuilder\"/>\n</sequence>\n`}</code></pre>\n    <p>{`To customize the TinyMCE editor present in Page Builder, revise the `}<inlineCode parentName=\"p\">{`di.xml`}</inlineCode>{` file, adding the configuration settings as an argument to `}<inlineCode parentName=\"p\">{`Magento\\\\PageBuilder\\\\Model\\\\Wysiwyg\\\\DefaultConfigProvider`}</inlineCode>{`.\nThe following code is an example of the configuration settings in the `}<inlineCode parentName=\"p\">{`di.xml`}</inlineCode>{` file that determine the font sizes available for selection. Then, it adds a paragraph menu option associated with the `}<inlineCode parentName=\"p\">{`<p>`}</inlineCode>{` tag:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-xml\"\n      }}>{`<type name=\"Magento\\\\PageBuilder\\\\Model\\\\Wysiwyg\\\\DefaultConfigProvider\">\n    <arguments>\n        <argument name=\"additionalSettings\" xsi:type=\"array\">\n            <item name=\"fontsize_formats\" xsi:type=\"string\">10px 12px 14px 16px 18px 20px 24px 26px 28px 32px 34px 36px 38px 40px 42px 48px 52px 56px 64px 72px</item>\n            <item name=\"style_formats\" xsi:type=\"array\">\n                <item name=\"paragraph\" xsi:type=\"array\">\n                    <item name=\"title\" xsi:type=\"string\">Paragraph</item>\n                    <item name=\"block\" xsi:type=\"string\">p</item>\n                </item>\n            </item>\n      </argument>\n  </arguments>\n</type>\n`}</code></pre>\n    <p>{`Once you have edited the `}<inlineCode parentName=\"p\">{`di.xml`}</inlineCode>{` file, you can apply custom styling for the settings you implemented in the related CSS file.`}</p>\n    <p>{`The config of the TinyMCE editor can be extended with a plugin.\nConfiguration providers are classes with a `}<inlineCode parentName=\"p\">{`getConfig()`}</inlineCode>{` method that return the configuration for a specific entity.`}</p>\n    <p>{`For instance, in the `}<inlineCode parentName=\"p\">{`Magento\\\\Cms\\\\Model\\\\Wysiwyg\\\\DefaultConfigProvider`}</inlineCode>{` class, the `}<inlineCode parentName=\"p\">{`getConfig()`}</inlineCode>{` method\nadds the additional configuration and enables a list of plugins:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-php\"\n      }}>{`/**\n * Class DefaultConfigProvider returns data required to render tinymce editor\n */\nclass DefaultConfigProvider implements \\\\Magento\\\\Framework\\\\Data\\\\Wysiwyg\\\\ConfigProviderInterface\n{\n    ...\n\n    /**\n     * {@inheritdoc}\n     */\n    public function getConfig(\\\\Magento\\\\Framework\\\\DataObject $config) : \\\\Magento\\\\Framework\\\\DataObject\n    {\n        $config->addData([\n            'tinymce' => [\n                'toolbar' => 'formatselect | bold italic underline | alignleft aligncenter alignright | '\n                    . 'bullist numlist | link table charmap',\n                'plugins' => implode(\n                    ' ',\n                    [\n                        'advlist',\n                        'autolink',\n                        'lists',\n                        'link',\n                        'charmap',\n                        'media',\n                        'noneditable',\n                        'table',\n                        'contextmenu',\n                        'paste',\n                        'code',\n                        'help',\n                        'table'\n                    ]\n                ),\n                'content_css' => $this->assetRepo->getUrl('mage/adminhtml/wysiwyg/tiny_mce/themes/ui.css')\n            ]\n        ]);\n        return $config;\n    }\n}\n`}</code></pre>\n    <p>{`In this case, the `}<inlineCode parentName=\"p\">{`Magento\\\\Cms\\\\Model\\\\Wysiwyg\\\\Gallery\\\\DefaultConfigProvider`}</inlineCode>{` class enables the image plugin.\nSee a list of available TinyMCE settings on their `}<a parentName=\"p\" {...{\n        \"href\": \"https://www.tiny.cloud/docs/configure/\"\n      }}>{`website`}</a>{`.`}</p>\n    <p>{`The following example shows how you can extend the TinyMCE editor configuration by creating a plugin for `}<inlineCode parentName=\"p\">{`DefaultConfigProvider`}</inlineCode>{` which extends the `}<inlineCode parentName=\"p\">{`getConfig()`}</inlineCode>{` method of the original class.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-php\"\n      }}>{`...\n\n/**\n * @param \\\\Magento\\\\Cms\\\\Model\\\\Wysiwyg\\\\Gallery\\\\DefaultConfigProvider $subject\n * @param \\\\Magento\\\\Framework\\\\DataObject $result\n * @return \\\\Magento\\\\Framework\\\\DataObject $result\n * @SuppressWarnings(PHPMD.UnusedFormalParameter)\n */\npublic function afterGetConfig(\\\\Magento\\\\Cms\\\\Model\\\\Wysiwyg\\\\Gallery\\\\DefaultConfigProvider $subject, \\\\Magento\\\\Framework\\\\DataObject $result)\n{\n    $result->addData([\n                'tinymce' => [\n                    ...\n                ]\n            ]);\n\n    return $result;\n...\n}\n`}</code></pre>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"names":["_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","props","mdxType","parentName","isMDXComponent"],"sourceRoot":""}